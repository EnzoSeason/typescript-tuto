!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inputValidate=t.autobind=void 0,t.autobind=function(e,t,r){const n=r.value;return{configurable:!0,enumerable:!1,get(){return n.bind(this)}}},t.inputValidate=function(e){let t=!0;return e.required&&(t=t&&0!==String(e.value).trim().length),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;t.Component=class{constructor(e,t,r,n){this.templateEl=document.getElementById(e),this.hostEl=document.getElementById(t);const o=document.importNode(this.templateEl.content,!0);this.el=o.firstElementChild,n&&(this.el.id=n),this.attach(r)}attach(e){e?this.hostEl.insertAdjacentElement("afterbegin",this.el):this.hostEl.insertAdjacentElement("beforeend",this.el)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectState=void 0;const n=r(3),o=r(6);class i extends o.State{constructor(){super(),this.projects=[]}static getInstance(){return this.instance||(this.instance=new i),this.instance}addProject(e,t,r){const o=new n.Project(e,t,r,n.ProjectStatus.Active);this.projects.push(o),this.notifyListeners()}moveProject(e,t){const r=this.projects.find(t=>t.id===e);r&&r.status!==t&&(r.status=t,this.notifyListeners())}notifyListeners(){for(let e of this.listeners)e(this.projects.slice())}}t.projectState=i.getInstance()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Project=t.ProjectStatus=void 0,function(e){e[e.Active=0]="Active",e[e.Finished=1]="Finished"}(t.ProjectStatus||(t.ProjectStatus={}));class n{constructor(e,t,r,o,i=++n.projectId){this.title=e,this.desc=t,this.people=r,this.status=o,this.id=i}}t.Project=n,n.projectId=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),o=r(7);new n.ProjectInput,new o.ProjectList("active"),new o.ProjectList("finished")},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectInput=void 0;const o=r(0),i=r(2),s=r(1);class c extends s.Component{constructor(){super("project-input","app",!0,"user-input"),this.titleInputEl=this.el.querySelector("#title"),this.descriptionInputEl=this.el.querySelector("#description"),this.peopleInputEl=this.el.querySelector("#people"),this.config()}config(){this.el.addEventListener("submit",this.submitHandler)}renderContent(){}gatherUserInput(){const e=this.titleInputEl.value,t=this.descriptionInputEl.value,r=this.peopleInputEl.value;if(o.inputValidate({value:e,required:!0})&&o.inputValidate({value:t,required:!1})&&o.inputValidate({value:r,required:!0}))return[e,t,Number(r)];alert("Form is not completed")}submitHandler(e){if(e.preventDefault(),Array.isArray(this.gatherUserInput())){const[e,t,r]=this.gatherUserInput();i.projectState.addProject(e,t,r),this.clearForm()}}clearForm(){this.titleInputEl.value="",this.descriptionInputEl.value="",this.peopleInputEl.value=""}}n([o.autobind],c.prototype,"submitHandler",null),t.ProjectInput=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;t.State=class{constructor(){this.listeners=[]}addListeners(e){this.listeners.push(e)}}},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectList=void 0;const o=r(0),i=r(3),s=r(2),c=r(1),l=r(8);class a extends c.Component{constructor(e){super("project-list","app",!1,e+"-projects"),this.type=e,this.assignedProjects=[],this.config(),this.renderContent()}dragOverHandler(e){if(e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]){e.preventDefault();this.el.querySelector("ul").classList.add("droppable")}}dropHandler(e){const t=Number(e.dataTransfer.getData("text/plain"));isNaN(t)||s.projectState.moveProject(t,"active"===this.type?i.ProjectStatus.Active:i.ProjectStatus.Finished);this.el.querySelector("ul").classList.remove("droppable")}dragLeaveHandler(e){this.el.querySelector("ul").classList.remove("droppable")}config(){this.el.addEventListener("dragover",this.dragOverHandler),this.el.addEventListener("drop",this.dropHandler),this.el.addEventListener("dragleave",this.dragLeaveHandler),s.projectState.addListeners(e=>{this.assignedProjects=e.filter(e=>"active"===this.type?e.status===i.ProjectStatus.Active:"finished"===this.type&&e.status===i.ProjectStatus.Finished),this.renderProjects()})}renderContent(){const e=this.type+"-projects-list";this.el.querySelector("ul").id=e,this.el.querySelector("h2").textContent=this.type.toUpperCase()+" PROJECTS"}renderProjects(){this.el.querySelector("ul").innerHTML="";for(const e of this.assignedProjects)new l.ProjectItem(this.el.querySelector("ul").id,e)}}n([o.autobind],a.prototype,"dragOverHandler",null),n([o.autobind],a.prototype,"dropHandler",null),n([o.autobind],a.prototype,"dragLeaveHandler",null),t.ProjectList=a},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectItem=void 0;const o=r(0),i=r(1);class s extends i.Component{constructor(e,t){super("single-project",e,!1,t.id.toString()),this.project=t,this.config(),this.renderContent()}get nbOfPeople(){return 1===this.project.people?"1 person":this.project.people+" persons"}dragStartHandler(e){e.dataTransfer.setData("text/plain",this.project.id.toString()),e.dataTransfer.effectAllowed="move"}dragEndHandler(e){}config(){this.el.addEventListener("dragstart",this.dragStartHandler)}renderContent(){this.el.querySelector("h2").textContent=this.project.title,this.el.querySelector("h3").textContent=this.nbOfPeople,this.el.querySelector("p").textContent=this.project.desc}}n([o.autobind],s.prototype,"dragStartHandler",null),t.ProjectItem=s}]);